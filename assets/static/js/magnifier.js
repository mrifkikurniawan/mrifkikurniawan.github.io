function magnify(e,t){function n(e){var n,g,u;e.preventDefault(),g=(n=i(e)).x,u=n.y,g>o.width-a/t&&(g=o.width-a/t),g<a/t&&(g=a/t),u>o.height-r/t&&(u=o.height-r/t),u<r/t&&(u=r/t),s.style.left=g-a+"px",s.style.top=u-r+"px",s.style.backgroundPosition="-"+(g*t-a+d)+"px -"+(u*t-r+d)+"px"}function i(e){var t,n=0,i=0;return e=e||window.event,t=o.getBoundingClientRect(),n=e.pageX-t.left,i=e.pageY-t.top,{x:n-=window.pageXOffset,y:i-=window.pageYOffset}}var o,s,a,r,d;o=document.getElementById(e),s=document.createElement("DIV"),t<=0?s.setAttribute("class","img-magnifier-glass_init"):s.setAttribute("class","img-magnifier-glass"),o.parentElement.insertBefore(s,o),s.style.backgroundImage="url('"+o.src+"')",s.style.backgroundRepeat="no-repeat",s.style.backgroundSize=o.width*t+"px "+o.height*t+"px",d=3,a=s.offsetWidth/2,r=s.offsetHeight/2,s.addEventListener("mousemove",n),o.addEventListener("mousemove",n),s.addEventListener("touchmove",n),o.addEventListener("touchmove",n)}